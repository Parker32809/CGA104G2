<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="http://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="../../resources/css/mylist.css">
<link rel="stylesheet" href="../../resources/css/homestyle.css">
<link rel="stylesheet" type="text/css"
	href="../../resources/front-end/assets/css/jquery.bxslider.min.css">
<link rel="stylesheet" type="text/css"
	href="../../resources/front-end/assets/css/reset.css">
<link rel="stylesheet" type="text/css"
	href="../../resources/front-end/assets/css/parts.css">
<link rel="stylesheet" type="text/css"
	href="../../resources/front-end/assets/css/layout.css">
<link rel="stylesheet" type="text/css"
	href="../../resources/front-end/assets/css/modaal.min.css">

<style>
@font-face {
	font-family: 'huninn';
	src: url('/resources/front-end/assets/font/jf-openhuninn-1.1.ttf')
		format("truetype");
}

body {
	font-family: Lato, sans-serif, 'huninn', serif;
}

body {
	background: #262a2b;
}
</style>


</head>
<body>


	<div id="splash">
		<div id="splash-logo">
			<div class="bgextend bgLRextend">
				<span class="bgappear">Community Management</span><br> <span
					class="bgappear">陪你e生e世 社區服務平台</span>
			</div>
		</div>
		<!--/splash-->
	</div>
	<div class="splashbg"></div>
	<!---画面遷移用-->


	<div id="container">
		<header id="header">
			<!--            <h3><a href="#"><span class="bgextend bgLRextendTrigger">-->
			<h1>
				<div>
					<a href="front-index.html"><img
						src="../../resources/front-end/assets/img/logo11_trans4.png"
						alt="" style="width: 50%"></a>
				</div>
			</h1>
			<!--            </a></h3>-->
			<!-- <span class="bgappearTrigger">陪你e生e世</span> -->

			<!--                    </span></a></h1>-->

			<nav id="pc-nav">
				<!--                    <li><span class="bgappearTrigger"><img src="img/logo11_trans.png" alt="" style="width: 40%"></span></li>-->
				<ul>
					<li><a href="#vision"><span
							class="bgextend bgLRextendTrigger"><span
								class="bgappearTrigger">帳號管理</span></span></a></li>
					<li><a href="#service"><span
							class="bgextend bgLRextendTrigger"><span
								class="bgappearTrigger">活動</span></span></a></li>
					<li><a href="#about"><span
							class="bgextend bgLRextendTrigger"><span
								class="bgappearTrigger">公共設施</span></span></a></li>
					<li><a href="#faq"><span
							class="bgextend bgLRextendTrigger"><span
								class="bgappearTrigger">檢舉與維修</span></span></a></li>
					<li><a href="#contact"><span
							class="bgextend bgLRextendTrigger"><span
								class="bgappearTrigger">特約商店</span></span></a></li>
					<li><a href="#contact"><span
							class="bgextend bgLRextendTrigger"><span
								class="bgappearTrigger">社區帳單</span></span></a></li>
					<li><a href="#contact"><span
							class="bgextend bgLRextendTrigger"><span
								class="bgappearTrigger">聯絡我們</span></span></a></li>
				</ul>
			</nav>
		</header>
		<main id="main-area">
			<ul id="list" class="tilesWrap">
			</ul>
		</main>
	</div>



	<script src="../../resources/front-end/assets/js/jquery-3.4.1.min.js"></script>
	<!--news tickerー-->
	<script
		src="../../resources/front-end/assets/js/jquery.bxslider.min.js"></script>
	<!--背景線延伸效果-->
	<script src="../../resources/front-end/assets/js/scrollgress.min.js"></script>
	<!--apang 動畫-->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/apng-canvas/2.1.1/apng-canvas.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
	<script src="../../resources/front-end/assets/js/script.js"></script>
	<script src="../../resources/front-end/assets/js/modaal.min.js"></script>


<style>

#container {
    position: relative;
    z-index: 1;
    background: #fff;
    background: #262a2b;
}


</style>


	<script>
let memId = sessionStorage.getItem("id")

getList()
async function getList(){
	let res  = await fetch(`../../activity/ActServlet?action=list&memId=${memId}`, { method: 'get' })
   let result = await res.json();
   let count = 1;
   result.forEach(list => {
         $("#list").append(`<li>
            <h2>${count}</h2>
            <img src="data:image/jpeg;base64,${list.photo}">
            <h3>${list.activityName}</h3>
            <p>
               <br>開始時間:${list.activityStart}</br>
               <br>結束時間:${list.activityEnd}</br>
               <br>活動內容:${list.content}</br>
            </p>  
             <input type="button" onclick="change(${list.activityId})"   value="更改">
             <input type="button" onclick="deleteAct(${list.activityId})"   value="刪除">      
        </li>`)
        count++
   });
   
}



async function deleteAct(actId){
	let result = confirm("確定是否刪除")
	if(result){
	fetch("../../activity/ActServlet?action=delete&deleteId="+actId , { method: 'get' });
	}
	location.reload();
	
}


function change(actId){
	const act =sessionStorage.setItem("actId",actId)
	location="update.html"
	
}











</script>



</body>
</html>